<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PranshhVoyages Journal App</title>
    <link rel="stylesheet" href="" th:href="@{/CSS/homepage.css}">

    <!-- Script to retrieve JWT token from model attribute -->
    <script th:inline="javascript">
        var jwtTokenT = /*[[${jwtTokenT}]]*/ '';
        // Check if jwtTokenT is valid and not an empty string
        if (jwtTokenT && jwtTokenT.trim() !== '') {
            console.log('Setting new JWT token');
           localStorage.setItem('jwtToken', jwtTokenT);
        } else {
            console.log('JWT token already exists in localStorage:', existingToken);
        }
    </script>
</head>
<body>
    <!-- Top Bar -->
    <nav class="top-bar">
        <h1>PranshhVoyages Journal App</h1>
        <div class="profile-container" id="profileSection">
            <!-- Placeholder for initials or profile picture -->
            <div id="profileIcon" class="profile-icon">JA</div>
            <div class="profile-dropdown" id="profileDropdown">
                <a href="#" th:href="@{/journalapp/view-profile}">View Profile</a>
                <a href="#" th:href="@{/journalapp/update-profile}">Update Profile</a>
                <a href="#" th:href="@{/logout}">Logout</a>
                <a href="#" th:href="@{/journalapp/about}">About</a>
            </div>
        </div>
    </nav>

    <!-- Left Sidebar th:href="@{/journalapp/add-journal}" id="addJournalLink" -->
    <div class="sidebar">
        <h2 class="sidebar-header">My Content</h2>
        <ul>
            <li><a href="#" th:href="@{/journalapp/add-journal}">Add Journal</a></li>
            <li><a href="#" th:href="@{/journalapp/my-journals}">View All Journals</a></li>
            <li><a href="#">View Journal by ID</a></li>
            <li><a href="#" th:href="@{/journalapp/update-journal}">Update Journal by ID</a></li>
        </ul>
    </div>

    <!-- Main Content -->
    <div class="main-content">
        <!-- Search Section -->
        <div class="search-container">
            <input type="text" id="searchInput" placeholder="Search Journals">
            <button id="searchBtn">Search</button>
        </div>
        
        <!-- Journal List (Not Scrollable) -->
        <div class="journal-list" id="journalList">
            <!-- Journal Entries Will Be Populated Here Dynamically -->
        </div>
    </div>

    
    <!-- Subscription Section -->
        <div class="subscribe-section">
            <h2>Get productivity tips delivered straight to your inbox</h2>
            <div class="subscribe-form">
                <input type="email" id="emailInput" placeholder="Email address" required>
                <button id="subscribeBtn">Subscribe</button>
            </div>
            <p>We’ll email you 1-3 times per week—and never share your information.</p>
        </div>
    </div>


    <!-- Bottom Bar -->
    <div class="bottom-bar">
        <p>All is well</p>
    </div>

    <!-- Add jwt-decode script here, before closing body tag -->
    <script src="https://cdn.jsdelivr.net/npm/jwt-decode@3.1.2/build/jwt-decode.min.js"></script>

    <!-- JavaScript -->
    <script src="" th:src="@{/JS/homepage.js}"></script>



</body>
</html>
